<?xml version="1.0" encoding="big5"?>
<root>
  <dao name="QueryOderPic">
    <statement>select  * from OrderPic where orderSeq=? and (status=1 or
      status =0)</statement>
    <parameter type="long">orderSeq</parameter>
  </dao>
  <dao name="QueryOderPicBySeqAndCategory">
    <statement>select * from OrderPic where orderSeq=? and category=? and (status=1 or
      status =0)</statement>
    <parameter type="long">orderSeq</parameter>
    <parameter type="String">category</parameter>
  </dao>
  <dao name="QueryOderPicByCopy">
    <statement>select * from OrderPic where orderSeq=? and userId=? and lpic=?</statement>
    <parameter type="long">orderSeq</parameter>
    <parameter type="String">userId</parameter>    
    <parameter type="String">lpic</parameter>
  </dao>  
  <dao name="QueryOderPicByStatusAndOrderSeq">
    <statement>select  * from OrderPic where status=? and orderSeq=?</statement>
    <parameter type="int">status</parameter>
    <parameter type="long">orderSeq</parameter>
  </dao>
  <dao name="QueryOderPicByFrom">
    <statement>select * from OrderPic where orderSeq=? and come = ?</statement>
    <parameter type="int">orderSeq</parameter>
    <parameter type="int">come</parameter>
    <parameter type="int" kind="2" condition="status = ?">status</parameter>
  </dao>
  <dao name="UpdateOderPicStatusBySeq">
    <statement>update OrderPic set status=? where seq=?</statement>
    <parameter type="int">status</parameter>
    <parameter type="long">seq</parameter>
  </dao>
  <dao name="UpdateOderPicCgyBySeq">
    <statement>update OrderPic set category=? where seq=?</statement>
    <parameter type="String">category</parameter>
    <parameter type="long">seq</parameter>
  </dao>
  <dao name="UpdateOderPicStatusByOrderSeq">
    <statement>update OrderPic set status=? where orderSeq=?</statement>
    <parameter type="int">status</parameter>
    <parameter type="long">orderSeq</parameter>
  </dao>
  <dao name="QueryOderPicByStatus">
    <statement>select  * from OrderPic where status = ? and orderSeq=?</statement>
    <parameter type="int">status</parameter>
    <parameter type="long">orderSeq</parameter>
  </dao>
  <dao name="QueryOderPicByStatus2">
    <statement>select  * from OrderPic where status = ?</statement>
    <parameter type="int">status</parameter>
  </dao>
  <dao name="QueryOrderPicByDaemon">
    <statement>select  * from OrderPic where status = -1 or status = -2</statement>
  </dao>
  <dao name="QueryOderPicBySeq">
    <statement>select  * from OrderPic where seq=?</statement>
    <parameter type="long">seq</parameter>
  </dao>
  <dao name="UpdateOrderPic">
    <statement>update orderpic set
      hpic=?,lpic=?,ohpic=?,olpic=?,ext=?,lwidth=?,lheight=?,hwidth=?,hheight=?,caption=?,status=?,come=?
      where seq=?</statement>
    <parameter type="String">hpic</parameter>
    <parameter type="String">lpic</parameter>
    <parameter type="String">ohpic</parameter>
    <parameter type="String">olpic</parameter>
    <parameter type="String">ext</parameter>
    <parameter type="int">lwidth</parameter>
    <parameter type="int">lheight</parameter>
    <parameter type="int">hwidth</parameter>
    <parameter type="int">hheight</parameter>
    <parameter type="String">caption</parameter>
    <parameter type="int">status</parameter>
    <parameter type="short">come</parameter>
    <parameter type="long">seq</parameter>
  </dao>
  <dao name="UpdateOrderPicWH">
  	<statement>update orderpic set lwidth=?,lheight=?,hwidth=?,hheight=? where seq=?</statement>
  	<parameter type="int">lwidth</parameter>
  	<parameter type="int">lheight</parameter>
  	<parameter type="int">hwidth</parameter>
  	<parameter type="int">hheight</parameter>
  	<parameter type="long">seq</parameter>
  </dao>
  <dao name="AddOrderPic2">
    <statement>insert into
      orderpic(orderSeq,userId,category,fileName,hpic,lpic,ohpic,olpic,ext,
      lwidth,lheight,hwidth,hheight,caption,status,come)
      values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)</statement>
    <parameter type="long">orderSeq</parameter>
    <parameter type="String">userId</parameter>
    <parameter type="String">category</parameter>
    <parameter type="String">fileName</parameter>
    <parameter type="String">hpic</parameter>
    <parameter type="String">lpic</parameter>
    <parameter type="String">ohpic</parameter>
    <parameter type="String">olpic</parameter>
    <parameter type="String">ext</parameter>
    <parameter type="int">lwidth</parameter>
    <parameter type="int">lheight</parameter>
    <parameter type="int">hwidth</parameter>
    <parameter type="int">hheight</parameter>
    <parameter type="String">caption</parameter>
    <parameter type="int">status</parameter>
    <parameter type="short">come</parameter>
  </dao>
  <dao name="QueryAllOderPic">
    <statement><![CDATA[select  * from OrderPic where hpic is not null and lpic is not null]]></statement>
  </dao>
  <dao name="DeleteOrderPicByPK">
    <statement>delete from orderpic where seq=? and orderSeq=? and userId=?</statement>
    <parameter type="long">seq</parameter>
    <parameter type="long">orderSeq</parameter>
    <parameter type="String">userId</parameter>
  </dao>
  <dao name="DeleteOrderPicByOrderSeq">
    <statement>delete from orderpic where orderSeq=? and userId=?</statement>
    <parameter type="long">seq</parameter>
    <parameter type="String">userId</parameter>
  </dao>
  <dao name="UpdateOderPicOrderSeq">
    <statement>update orderpic set orderSeq=? where orderSeq=?</statement>
    <parameter type="long">neworderSeq</parameter>
    <parameter type="long">orderSeq</parameter>
  </dao>  
  <dao name="UpdateOrderPicFail">
    <statement>update orderpic set failNum=failNum+1 where seq=?</statement>
     <parameter type="long">seq</parameter>
  </dao>  
</root>
