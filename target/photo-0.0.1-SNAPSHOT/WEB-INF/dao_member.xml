<?xml version="1.0" encoding="big5"?>
<root>
	<dao name="AddMember">
		<statement> insert into
			Member(GPID,userId,userPwd,email,name,zip,
			address,tel,mobile,sex,birthday,education,occupation,createDate,status,updateDate,active,company)
			values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
		</statement>
		<parameter type="String">GPID</parameter>
		<parameter type="String">userId</parameter>
		<parameter type="String">userPwd</parameter>
		<parameter type="String">email</parameter>
		<parameter type="String">name</parameter>
		<parameter type="String">zip</parameter>
		<parameter type="String">address</parameter>
		<parameter type="String">tel</parameter>
		<parameter type="String">mobile</parameter>
		<parameter type="int">sex</parameter>
		<parameter type="Timestamp">birthday</parameter>
		<parameter type="int">education</parameter>
		<parameter type="int">occupation</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="int">status</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="String">active</parameter>
		<parameter type="String">company</parameter>
	</dao>
	<dao name="UpdateMember">
		<statement>update Member set
			GPID=?,userPwd=?,email=?,name=?,zip=?,address=?,tel=?,
			mobile=?,sex=?,birthday=?,education=?,occupation=?,status=?,company=?,updateDate=?
			where seq=?
		</statement>
		<parameter type="String">GPID</parameter>
		<parameter type="String">userPwd</parameter>
		<parameter type="String">email</parameter>
		<parameter type="String">name</parameter>
		<parameter type="String">zip</parameter>
		<parameter type="String">address</parameter>
		<parameter type="String">tel</parameter>
		<parameter type="String">mobile</parameter>
		<parameter type="int">sex</parameter>
		<parameter type="Timestamp">birthday</parameter>
		<parameter type="int">education</parameter>
		<parameter type="int">occupation</parameter>
		<parameter type="int">status</parameter>
		<parameter type="String">company</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="int">seq</parameter>
	</dao>
	<dao name="UpdateMemberByUserIdAndGPID">
		<statement>update Member set
			GPID=?,email=?,name=?,zip=?,address=?,tel=?,
			mobile=?,sex=?,birthday=?,education=?,occupation=?,status=?,updateDate=?
			where userId=? and GPID=?
		</statement>
		<parameter type="String">GPID</parameter>
		<parameter type="String">email</parameter>
		<parameter type="String">name</parameter>
		<parameter type="String">zip</parameter>
		<parameter type="String">address</parameter>
		<parameter type="String">tel</parameter>
		<parameter type="String">mobile</parameter>
		<parameter type="int">sex</parameter>
		<parameter type="Timestamp">birthday</parameter>
		<parameter type="int">education</parameter>
		<parameter type="int">occupation</parameter>
		<parameter type="int">status</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="String">userId</parameter>
		<parameter type="String">GPID</parameter>
	</dao>
	<dao name="QueryAllMember">
		<statement>select * from Member where status = 0 or status = 1</statement>
	</dao>
	<dao name="QueryAllMemberByGPID">
		<statement>select * from Member where (status = 0 or status = 1) and GPID=?</statement>
		<parameter type="String">GPID</parameter>
	</dao>
	<dao name="QueryRegisterMember">
		<statement>select * from Member where status = -1</statement>
	</dao>
	<dao name="QueryMemberBySeq">
		<statement>select * from Member where seq = ?</statement>
		<parameter type="String">memberSeq</parameter>
	</dao>
	<dao name="QueryMemberByUserIdAndGPID">
		<statement><![CDATA[select a.* from Member a,seller b where a.userId = ? and
			a.GPID = ? and a.GPID=b.GPID and a.status=1 and b.passCode=?]]></statement>
		<parameter type="String">userId</parameter>
		<parameter type="String">GPID</parameter>
		<parameter type="String">passCode</parameter>
	</dao>
	<dao name="QueryMemberByUserIdAndGPID2">
		<statement>select * from Member where userId = ? and GPID = ? </statement>
		<parameter type="String">userId</parameter>
		<parameter type="String">GPID</parameter>
	</dao>
	<dao name="QueryMemberByUserIdAndGPID3">
		<statement>select a.*,b.register,b.version from Member a, seller b where
			a.GPID=? and a.userId = ? and a.status=1 and
			a.GPID=b.GPID and b.status=1
		</statement>
		<parameter type="String">GPID</parameter>
		<parameter type="String">userId</parameter>
	</dao>
	<dao name="QueryMemberByEmail">
		<statement>select * from Member where email = ? and userId = ? and GPID=?</statement>
		<parameter type="String">email</parameter>
		<parameter type="String">userId</parameter>
		<parameter type="String">GPID</parameter>
	</dao>
	<dao name="MemberLoginByGPID">
		<statement>select a.*,b.register,b.version from Member a, seller b where
			a.GPID=? and a.userId = ? and a.userPwd=? and a.status=1 and
			a.GPID=b.GPID and b.status=1
		</statement>
		<parameter type="String">GPID</parameter>
		<parameter type="String">userId</parameter>
		<parameter type="String">userPwd</parameter>
	</dao>
	<dao name="MemberLoginByIdPwd">
		<statement>select a.*,b.register,b.version from Member a, seller b where
			a.userId = ? and a.userPwd=? and a.status=1 and
			a.GPID=b.GPID and b.status=1
		</statement>
		<parameter type="String">userId</parameter>
		<parameter type="String">userPwd</parameter>
	</dao>
	<dao name="MemberLoginBySeq">
		<statement>select a.*,b.register,b.version from Member a, seller b where
			a.seq=? and a.status=1 and a.GPID=b.GPID and b.status=1
		</statement>
		<parameter type="long">memberSeq</parameter>
	</dao>
	<dao name="MemberLoginBySeq2">
		<statement>select a.*,b.register,b.version from Member a, seller b where
			a.seq=? and a.status=1 and a.GPID=b.GPID and b.status=1 and a.GPID=?
		</statement>
		<parameter type="long">memberSeq</parameter>
		<parameter type="String">GPID</parameter>
	</dao>
	<dao name="MemberLoginByUrl">
		<statement>select a.*,b.register,b.version from Member a, seller b where
			a.GPID=? and a.userId = ? and a.urlPwd=? and a.urlEnable=1
			and a.GPID=b.GPID and b.status=1
		</statement>
		<parameter type="String">GPID</parameter>
		<parameter type="String">userId</parameter>
		<parameter type="String">urlPwd</parameter>
	</dao>
	<dao name="UpdateMemberPwd">
		<statement>update Member set userPwd=?,updateDate=? where seq=?</statement>
		<parameter type="String">userPwd</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="int">seq</parameter>
	</dao>
	<dao name="UpdateMemberPwdByUserIdAndGPID">
		<statement>update Member set userPwd=?,updateDate=? where
			userId=? and GPID=?
		</statement>
		<parameter type="String">userPwd</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="String">userId</parameter>
		<parameter type="String">GPID</parameter>
	</dao>
	<dao name="UpdateMemberUrlPwd">
		<statement>update Member set urlPwd=?,urlEnable=1 where
			userId=? and GPID=?
		</statement>
		<parameter type="String">urlPwd</parameter>
		<parameter type="String">userId</parameter>
		<parameter type="String">GPID</parameter>
	</dao>
	<dao name="UpdateMemberUrlEnable">
		<statement>update Member set urlEnable=0 where userId=? and
			GPID=?
		</statement>
		<parameter type="String">userId</parameter>
		<parameter type="String">GPID</parameter>
	</dao>
	<dao name="UpdateMemberVisit">
		<statement> update Member set lastvisitDate=? where userId=? and GPID=?</statement>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="String">userId</parameter>
		<parameter type="String">GPID</parameter>
	</dao>
	<dao name="UpdateMemberActive">
		<statement>update Member set status=1 where status = -1 and active=?
			and userId=? and GPID=?
		</statement>
		<parameter type="String">active</parameter>
		<parameter type="String">userId</parameter>
		<parameter type="String">GPID</parameter>
	</dao>
	<dao name="StopMember">
		<statement>update Member set status=0 where seq=?</statement>
		<parameter type="int">seq</parameter>
	</dao>
	<dao name="StartMember">
		<statement>update Member set status=1 where seq=?</statement>
		<parameter type="int">seq</parameter>
	</dao>
	<dao name="DeleteMember">
		<statement>delete from member where seq=?</statement>
		<parameter type="long">seq</parameter>
	</dao>

	<dao name="AddMemberRec">
		<statement>insert into
			memberrecord(content,createDate,updateDate,status,memberSeq) values(?,?,?,?,?)
		</statement>
		<parameter type="String">content</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="short">status</parameter>
		<parameter type="long">memberSeq</parameter>
	</dao>
	<dao name="UpdateMemberRec">
		<statement>update memberrecord set
			content=?,updateDate=?,status=?,memberSeq=? where seq=?
		</statement>
		<parameter type="String">content</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="short">status</parameter>
		<parameter type="long">memberSeq</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="DeleteMemberRec">
		<statement>delete from memberrecord where seq=?</statement>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="QueryMemberRec">
		<statement>select * from memberrecord where memberSeq=?</statement>
		<parameter type="long">memberSeq</parameter>
	</dao>
	<dao name="QueryAllMemberByGroupsSeq">
		<statement>select * from member where status=1 and groupsSeq=?</statement>
		<parameter type="int">groupsSeq</parameter>
	</dao>
</root>
