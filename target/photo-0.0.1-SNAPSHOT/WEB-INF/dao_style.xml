<?xml version="1.0" encoding="big5"?>
<root>
	<dao name="AddStyle">
		<statement>insert into
			PhotoStyle(seq,cgySeq,name,optPicture,hpicture,lpicture,hpicture2,lpicture2,rectTop,rectLeft,rectWidth,rectHeight,
			textTop,textLeft,textWidth,textHeight,kinds,adminSeq,createDate,updateDate,type,forWho,kindsSeq,width,height,width2,height2,productKind,content,coverKind)
			values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
		</statement>
		<parameter type="long">seq</parameter>
		<parameter type="int">cgySeq</parameter>
		<parameter type="String">name</parameter>
		<parameter type="String">optPicture</parameter>
		<parameter type="String">hpicture</parameter>
		<parameter type="String">lpicture</parameter>
		<parameter type="String">hpicture2</parameter>
		<parameter type="String">lpicture2</parameter>
		<parameter type="int">rectTop</parameter>
		<parameter type="int">rectLeft</parameter>
		<parameter type="int">rectWidth</parameter>
		<parameter type="int">rectHeight</parameter>
		<parameter type="int">textTop</parameter>
		<parameter type="int">textLeft</parameter>
		<parameter type="int">textWidth</parameter>
		<parameter type="int">textHeight</parameter>
		<parameter type="int">kinds</parameter>
		<parameter type="int">adminSeq</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="int">type</parameter>
		<parameter type="int">forWho</parameter>
		<parameter type="int">kindsSeq</parameter>
		<parameter type="int">width</parameter>
		<parameter type="int">height</parameter>
		<parameter type="int">width2</parameter>
		<parameter type="int">height2</parameter>
		<parameter type="String">productKind</parameter>
		<parameter type="String">content</parameter>
		<parameter type="int">coverKind</parameter>
	</dao>
	<dao name="RemoveStyle">
		<statement>update PhotoStyle set status=0 where seq=?</statement>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="RemoveStyleByAdminSeq">
		<statement>update PhotoStyle set status=0 where seq=? and adminSeq=?</statement>
		<parameter type="long">seq</parameter>
		<parameter type="int">adminSeq</parameter>
	</dao>
	<dao name="UpdateStyle">
		<statement> update PhotoStyle set cgySeq=?,
			name=?,optPicture=?,hpicture=?,lpicture=?,hpicture2=?,lpicture2=?,lwidth=?,lheight=?,rectTop=?,rectLeft=?,rectWidth=?,
			rectHeight=?,textTop=?,textLeft=?,textWidth=?,textHeight=?,auth=?,
			updateDate=?,designInfo=?,designDescription=?,type=?,productKind=?,kindsSeq=?,width=?,height=?,width2=?,height2=?,content =
			?,coverKind=?
			where seq=?
		</statement>
		<parameter type="int">cgySeq</parameter>
		<parameter type="String">name</parameter>
		<parameter type="String">optPicture</parameter>
		<parameter type="String">hpicture</parameter>
		<parameter type="String">lpicture</parameter>
		<parameter type="String">hpicture2</parameter>
		<parameter type="String">lpicture2</parameter>
		<parameter type="int">lwidth</parameter>
		<parameter type="int">lheight</parameter>
		<parameter type="int">rectTop</parameter>
		<parameter type="int">rectLeft</parameter>
		<parameter type="int">rectWidth</parameter>
		<parameter type="int">rectHeight</parameter>
		<parameter type="int">textTop</parameter>
		<parameter type="int">textLeft</parameter>
		<parameter type="int">textWidth</parameter>
		<parameter type="int">textHeight</parameter>
		<parameter type="String">auth</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="String">designInfo</parameter>
		<parameter type="String">designDescription</parameter>
		<parameter type="int">type</parameter>
		<parameter type="String">productKind</parameter>
		<parameter type="int">kindsSeq</parameter>
		<parameter type="int">width</parameter>
		<parameter type="int">height</parameter>
		<parameter type="int">width2</parameter>
		<parameter type="int">height2</parameter>
		<parameter type="String">content</parameter>
		<parameter type="int">coverKind</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="QueryStyleByCgyAndAuth">
		<statement>select a.*,b.name cgyName from PhotoStyle a left join
			stylecategory b on a.cgySeq=b.seq where a.status=1
		</statement>
		<parameter condition="a.forWho =? " kind="2" type="int">forWho</parameter>
		<parameter condition="a.cgySeq=?" kind="2" type="int">cgySeq</parameter>
		<parameter condition="a.width = ?" kind="2" type="int">width</parameter>
		<parameter condition="a.height = ?" kind="2" type="int">height</parameter>
		<parameter condition="(a.kinds=0 or a.auth like ? or a.auth like '%,ALL,%')" kind="2" type="LikeString">auth</parameter>
		<parameter condition="a.type = ?" kind="2" type="int">type</parameter>
		<parameter condition="a.adminSeq=?" kind="2" type="int">adminSeq</parameter>
		<parameter condition="(a.type = 0 or a.type = ?)" kind="2" type="int">type2</parameter>
		<parameter condition="(a.productKind like ? or a.productKind like '%,0,%')" kind="2" type="LikeString">productKind</parameter>
		<parameter condition="(a.productKind not like ? and a.productKind not like '%,0,%')" kind="2" type="LikeString">productKind2</parameter>
		<order>a.name</order>
		<direction>ASC</direction>
	</dao>
	<dao name="QueryAllStyleForFree">
		<statement> select a.*,b.name cgyName,c.name as kindsName from
			PhotoStyle a left join stylecategory b on a.cgySeq=b.seq left join
			orderkinds c on c.seq=a.kindsSeq where a.status=1 and a.type=?
		</statement>
		<parameter type="int">type</parameter>
		<parameter condition="a.adminSeq=?" kind="2" type="int">adminSeq</parameter>
	</dao>
	<dao name="QueryStyle2">
		<statement>select a.*,b.name cgyName from PhotoStyle a left join
			stylecategory b on a.cgySeq=b.seq where a.status=1 and a.seq=?
		</statement>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="QueryStyle">
		<statement>select * from PhotoStyle where seq=?</statement>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="QueryStyleLayout">
		<statement>select * from PhotoLayout where styleSeq=?</statement>
		<parameter type="long">styleSeq</parameter>
	</dao>
	<dao name="QueryStyleLayout2">
		<statement>select seq,preview,single,stable from PhotoLayout where
			styleSeq=? order by createDate desc
		</statement>
		<parameter type="long">styleSeq</parameter>
	</dao>
	<dao name="QueryStyleLayoutByKinds">
		<statement>select a.*,b.preview from photostyle a,PhotoLayout b
			where a.seq = b.styleSeq and a.kinds=?
		</statement>
		<parameter type="int">kinds</parameter>
	</dao>
	<dao name="QueryStyleLayoutByCgyAndKinds">
		<statement>select a.*,b.preview from photostyle a,PhotoLayout b
			where a.seq = b.styleSeq and a.cgySeq=? and a.kinds=?
		</statement>
		<parameter type="int">cgySeq</parameter>
		<parameter type="int">kinds</parameter>
	</dao>
	<dao name="QueryStyleLayoutByCgyAndKinds2">
		<statement>select a.*,b.preview from photostyle a,PhotoLayout b
			where a.seq = b.styleSeq and a.cgySeq=? and a.kinds=? and (auth
			like ? or auth like '%,ALL,%')</statement>
		<parameter type="int">cgySeq</parameter>
		<parameter type="int">kinds</parameter>
		<parameter type="LikeString">auth</parameter>
	</dao>
	<dao name="QueryStyleLayoutByKindsAndAuth">
		<statement>select a.*,b.preview from photostyle a,PhotoLayout b
			where a.seq = b.styleSeq and a.kinds=? and (auth like ? or auth
			like '%,ALL,%')</statement>
		<parameter type="int">kinds</parameter>
		<parameter type="LikeString">auth</parameter>
	</dao>
	<dao name="QueryStyleLayoutBySeq">
		<statement>select * from PhotoLayout where seq=?</statement>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="AddStyleLayout">
		<statement>insert into
			PhotoLayout(seq,styleSeq,layoutSeq,preview,leftPicture,rightPicture,leftPicture2,rightPicture2,stable,single,createDate,updateDate) values(?,?,?,?,?,?,?,?,?,?,?,?)
		</statement>
		<parameter type="long">seq</parameter>
		<parameter type="long">styleSeq</parameter>
		<parameter type="long">layoutSeq</parameter>
		<parameter type="String">preview</parameter>
		<parameter type="String">leftPicture</parameter>
		<parameter type="String">rightPicture</parameter>
		<parameter type="String">leftPicture2</parameter>
		<parameter type="String">rightPicture2</parameter>
		<parameter type="int">stable</parameter>
		<parameter type="int">single</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="Timestamp">now()</parameter>
	</dao>
	<dao name="UpdateStyleLayout">
		<statement>update PhotoLayout set
			styleSeq=?,layoutSeq=?,preview=?,leftPicture=?,rightPicture=?,leftPicture2=?,rightPicture2=?,
			stable=?,single=?,updateDate=? where seq=?
		</statement>
		<parameter type="long">styleSeq</parameter>
		<parameter type="long">layoutSeq</parameter>
		<parameter type="String">preview</parameter>
		<parameter type="String">leftPicture</parameter>
		<parameter type="String">rightPicture</parameter>
		<parameter type="String">leftPicture2</parameter>
		<parameter type="String">rightPicture2</parameter>
		<parameter type="int">stable</parameter>
		<parameter type="int">single</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="DeleteStyleLayout">
		<statement>delete from PhotoLayout where seq=?</statement>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="AddPhotoRect">
		<statement> insert into
			PhotoRect(styleLayoutSeq,positions,rectTop,rectLeft,rectWidth,rectHeight,captionTop,captionLeft,captionWidth,captionHeight,createDate,updateDate)
			values(?,?,?,?,?,?,?,?,?,?,?,?)
		</statement>
		<parameter type="int">styleLayoutSeq</parameter>
		<parameter type="int">positions</parameter>
		<parameter type="int">rectTop</parameter>
		<parameter type="int">rectLeft</parameter>
		<parameter type="int">rectWidth</parameter>
		<parameter type="int">rectHeight</parameter>
		<parameter type="int">captionTop</parameter>
		<parameter type="int">captionLeft</parameter>
		<parameter type="int">captionWidth</parameter>
		<parameter type="int">captionHeight</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="Timestamp">now()</parameter>
	</dao>
	<dao name="DeletePhotoRect">
		<statement>delete from PhotoRect where styleLayoutSeq=?</statement>
		<parameter type="int">styleLayoutSeq</parameter>
	</dao>
	<dao name="QueryPhotoRect">
		<statement>select * from PhotoRect where styleLayoutSeq=? and positions=?</statement>
		<parameter type="int">styleLayoutSeq</parameter>
		<parameter type="int">positions</parameter>
	</dao>
	<dao name="AddStyleCategory">
		<statement>insert into
			stylecategory(seq,name,createDate,updateDate,forWho) values(?,?,?,?,?)
		</statement>
		<parameter type="int">seq</parameter>
		<parameter type="String">name</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="int">forWho</parameter>
	</dao>
	<dao name="DeleteStyleCategory">
		<statement>delete from stylecategory where seq=?</statement>
		<parameter type="int">seq</parameter>
	</dao>
	<dao name="RemoveStyleCategory">
		<statement>update stylecategory set status=0,updateDate=? where seq=?</statement>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="int">seq</parameter>
	</dao>
	<dao name="UpdateStyleCategory">
		<statement>update stylecategory set name=?,updateDate=? where seq=?</statement>
		<parameter type="String">name</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="int">seq</parameter>
	</dao>
	<dao name="QueryAllStyleCategory">
		<statement>select * from stylecategory where status = 1 and forWho = 0</statement>
	</dao>
	<dao name="QueryAllStyleCategory1">
		<statement>select * from stylecategory where status = 1 and forWho = 1</statement>
	</dao>
	<dao name="QueryAllStyleCategory2">
		<statement>select * from stylecategory where status = 1 and forWho = 2</statement>
	</dao>
	<dao name="QueryAllStyleCategory3">
		<statement>select * from stylecategory where status = 1 and forWho = 3</statement>
	</dao>
	<dao name="QueryStyleCategory">
		<statement>select * from stylecategory where status = 1 and seq = ?</statement>
		<parameter type="int">seq</parameter>
	</dao>
</root>
