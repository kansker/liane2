<?xml version="1.0" encoding="big5"?>
<root>
	<dao name="AddOrder">
		<statement>
			insert into PhotoOrder(seq,orderNo,GPID,memberSeq,userId,userName,company,email,address,tel,
			mobile,productSeq,productKind,skin, styleSeq,captionFont,captionPic,captionText,captionEffect,
			captionColor,lcoverPic,hcoverPic,amount,bookNum, createDate,updateDate,status,pageNum,pageSize,
			productName,valuation,width,height,version,cwidth,cheight,mm,thick,coverKind,pageKind,marginX,marginY,ebookSeq)
			values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
		</statement>
		<parameter type="long">seq</parameter>
		<parameter type="String">orderNo</parameter>
		<parameter type="String">GPID</parameter>
		<parameter type="long">memberSeq</parameter>
		<parameter type="String">userId</parameter>
		<parameter type="String">userName</parameter>
		<parameter type="String">company</parameter>
		<parameter type="String">email</parameter>
		<parameter type="String">address</parameter>
		<parameter type="String">tel</parameter>
		<parameter type="String">mobile</parameter>
		<parameter type="int">productSeq</parameter>
		<parameter type="int">productKind</parameter>
		<parameter type="String">skin</parameter>
		<parameter type="int">styleSeq</parameter>
		<parameter type="String">captionFont</parameter>
		<parameter type="String">captionPic</parameter>
		<parameter type="String">captionText</parameter>
		<parameter type="int">captionEffect</parameter>
		<parameter type="String">captionColor</parameter>
		<parameter type="String">1coverPic</parameter>
		<parameter type="String">hcoverPic</parameter>
		<parameter type="int">amount</parameter>
		<parameter type="int">bookNum</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="int">status</parameter>
		<parameter type="int">pageNum</parameter>
		<parameter type="String">pageSize</parameter>
		<parameter type="String">productName</parameter>
		<parameter type="int">valuation</parameter>
		<parameter type="int">width</parameter>
		<parameter type="int">height</parameter>
		<parameter type="String">version</parameter>
		<parameter type="int">cwidth</parameter>
		<parameter type="int">cheight</parameter>
		<parameter type="double">mm</parameter>
		<parameter type="int">thick</parameter>
		<parameter type="int">coverKind</parameter>
		<parameter type="int">pageKind</parameter>
		<parameter type="int">marginX</parameter>
		<parameter type="int">marginY</parameter>
		<parameter type="int">ebookSeq</parameter>
	</dao>
	<dao name="UpdateOrderUserData">
		<statement>update PhotoOrder set userName=?,company=?,email=?,address=?,tel=?,mobile=? where seq=?</statement>
		<parameter type="String">userName</parameter>
		<parameter type="String">company</parameter>
		<parameter type="String">email</parameter>
		<parameter type="String">address</parameter>
		<parameter type="String">tel</parameter>
		<parameter type="String">mobile</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrderClientRemark">
		<statement>update PhotoOrder set clientRemark=?,updateDate=? where seq=?</statement>
		<parameter type="String">clientRemark</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrder">
		<statement>
			update PhotoOrder set styleSeq=?,captionFont=?,captionPic=?,captionPic2=?,captionText=?,captionShow=?,captionEffect=?,captionColor=?, lcoverPic=?,hcoverPic=?,amount=?,bookNum=?,
			updateDate=?,status=?,makeStatus=? where seq=?
		</statement>
		<parameter type="int">styleSeq</parameter>
		<parameter type="String">captionFont</parameter>
		<parameter type="String">captionPic</parameter>
		<parameter type="String">captionPic2</parameter>
		<parameter type="String">captionText</parameter>
		<parameter type="String">captionShow</parameter>
		<parameter type="int">captionEffect</parameter>
		<parameter type="String">captionColor</parameter>
		<parameter type="String">lcoverPic</parameter>
		<parameter type="String">hcoverPic</parameter>
		<parameter type="int">amount</parameter>
		<parameter type="int">bookNum</parameter>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="int">status</parameter>
		<parameter type="int">makeStatus</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrder2">
		<statement>update PhotoOrder set productSeq=?,productKind=?,skin=?,pageNum=?,pageSize=?,productName=?,valuation=?,width=?,height=? where seq=?</statement>
		<parameter type="int">productSeq</parameter>
		<parameter type="int">productKind</parameter>
		<parameter type="string">skin</parameter>
		<parameter type="int">pageNum</parameter>
		<parameter type="String">pageSize</parameter>
		<parameter type="String">productName</parameter>
		<parameter type="int">valuation</parameter>
		<parameter type="int">width</parameter>
		<parameter type="int">height</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrder3">
		<statement>
			update PhotoOrder set userName=?,company=?,email=?,address=?,tel=?,mobile=?,bookNum=?, invoiceType=?,invoiceBuyer=?,invoiceNumber=?,invoiceTitle=?,invoiceAddress=?, total=?,freight=?
			where
			seq=?
		</statement>
		<parameter type="String">userName</parameter>
		<parameter type="String">company</parameter>
		<parameter type="String">email</parameter>
		<parameter type="String">address</parameter>
		<parameter type="String">tel</parameter>
		<parameter type="String">mobile</parameter>
		<parameter type="int">bookNum</parameter>
		<parameter type="int">invoiceType</parameter>
		<parameter type="String">invoiceBuyer</parameter>
		<parameter type="string">invoiceNumber</parameter>
		<parameter type="String">invoiceTitle</parameter>
		<parameter type="String">invoiceAddress</parameter>
		<parameter type="int">total</parameter>
		<parameter type="int">freight</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrder4">
		<statement>
			update PhotoOrder set userName=?,company=?,email=?,address=?,tel=?,mobile=?,bookNum=?, invoiceType=?,invoiceBuyer=?,invoiceNumber=?,invoiceTitle=?,invoiceAddress=?,
			total=?,freight=?,valuation=?,pageNum=?,payAmt=?,pdfPath=?,coverPdfPath=? where seq=?
		</statement>
		<parameter type="String">userName</parameter>
		<parameter type="String">company</parameter>
		<parameter type="String">email</parameter>
		<parameter type="String">address</parameter>
		<parameter type="String">tel</parameter>
		<parameter type="String">mobile</parameter>
		<parameter type="int">bookNum</parameter>
		<parameter type="int">invoiceType</parameter>
		<parameter type="String">invoiceBuyer</parameter>
		<parameter type="string">invoiceNumber</parameter>
		<parameter type="String">invoiceTitle</parameter>
		<parameter type="String">invoiceAddress</parameter>
		<parameter type="int">total</parameter>
		<parameter type="int">freight</parameter>
		<parameter type="int">valuation</parameter>
		<parameter type="int">pageNum</parameter>
		<parameter type="int">payAmt</parameter>
		<parameter type="String">pdfPath</parameter>
		<parameter type="String">coverPdfPath</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrder5">
		<statement>
			update PhotoOrder set userName=?,company=?,email=?,address=?,tel=?,mobile=?,bookNum=?, invoiceType=?,invoiceBuyer=?,invoiceNumber=?,invoiceTitle=?,invoiceAddress=?,
			total=?,freight=?,onsalesType=?,onsalesNum=?,onsalesRate=?,onsalesSeq=? where seq=?
		</statement>
		<parameter type="String">userName</parameter>
		<parameter type="String">company</parameter>
		<parameter type="String">email</parameter>
		<parameter type="String">address</parameter>
		<parameter type="String">tel</parameter>
		<parameter type="String">mobile</parameter>
		<parameter type="int">bookNum</parameter>
		<parameter type="int">invoiceType</parameter>
		<parameter type="String">invoiceBuyer</parameter>
		<parameter type="string">invoiceNumber</parameter>
		<parameter type="String">invoiceTitle</parameter>
		<parameter type="String">invoiceAddress</parameter>
		<parameter type="int">total</parameter>
		<parameter type="int">freight</parameter>
		<parameter type="short">onsalesType</parameter>
		<parameter type="String">onsalesNum</parameter>
		<parameter type="double">onsalesRate</parameter>
		<parameter type="long">onsalesSeq</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrderStyleSeq">
		<statement>update PhotoOrder set styleSeq=? where seq=?</statement>
		<parameter type="int">styleSeq</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrderPageData">
		<statement>update PhotoOrder set pageData=? where seq=?</statement>
		<parameter type="String">pageData</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOderPwd">
		<statement>update PhotoOrder set urlEnable = ? , orderPwd=? where seq=? and memberSeq = ?</statement>
		<parameter type="int">urlEnable</parameter>
		<parameter type="String">orderPwd</parameter>
		<parameter type="long">seq</parameter>
		<parameter type="long">memberSeq</parameter>
	</dao>
	<dao name="DeleteOrder">
		<statement>delete from PhotoOrder where seq=? and (status = 0 or status = 1 or status = -20)</statement>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrderPdfFail">
		<statement>update PhotoOrder set pdfFailNum=? where seq=?</statement>
		<parameter type="int">pdfFailNum</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrderWsepFail">
		<statement>update PhotoOrder set wsepFailNum=? where seq=?</statement>
		<parameter type="int">wsepFailNum</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrderUserId">
		<statement>update PhotoOrder set userId=? where seq=?</statement>
		<parameter type="String">userId</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrderPrinter">
		<statement>update PhotoOrder set status=4,printer=?,care=? where seq=?</statement>
		<parameter type="int">printer</parameter>
		<parameter type="String">care</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrderSender">
		<statement>update PhotoOrder set status=5,sender=? where seq=?</statement>
		<parameter type="int">sender</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrderOver">
		<statement>update PhotoOrder set status=6 where seq=?</statement>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrderStatus">
		<statement>update PhotoOrder set status=? where seq=?</statement>
		<parameter type="int">status</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrderStatusByMember">
		<statement>update PhotoOrder set status=? where seq=? and memberSeq = ?</statement>
		<parameter type="int">status</parameter>
		<parameter type="long">seq</parameter>
		<parameter type="long">memberSeq</parameter>
	</dao>
	<dao name="UpdateOrderToUse">
		<statement>update PhotoOrder set seq=? where seq=?</statement>
		<parameter type="long">newseq</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrderUserDate">
		<statement>update PhotoOrder set userDate=? where seq=?</statement>
		<parameter type="Timestamp">now()</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrderStatusAndMakeStatus">
		<statement>update PhotoOrder set status=?,makeStatus=? where seq=?</statement>
		<parameter type="int">status</parameter>
		<parameter type="int">makeStatus</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrderATMGold">
		<statement>update PhotoOrder set status=?,makeStatus=?,goldStatus,BankIDr=?,InAcctNo=? where seq=?</statement>
		<parameter type="int">status</parameter>
		<parameter type="int">makeStatus</parameter>
		<parameter type="int">goldStatus</parameter>
		<parameter type="String">BankIDr</parameter>
		<parameter type="String">InAcctNo</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrderMakeStatus">
		<statement>update PhotoOrder set makeStatus=? where seq=?</statement>
		<parameter type="int">makeStatus</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="UpdateOrderShareStatusByMember">
		<statement>update PhotoOrder set shareStatus=? where seq=? and memberSeq =?</statement>
		<parameter type="int">shareStatus</parameter>
		<parameter type="long">seq</parameter>
		<parameter type="long">memberSeq</parameter>
	</dao>
	<dao name="StartMakePDF">
		<statement>update PhotoOrder set makeStatus=2 where seq=?</statement>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="StartMakePDF2">
		<statement><![CDATA[update PhotoOrder set makeStatus=2,userMakeNumber=userMakeNumber+1 where seq=? and userMakeNumber < 5]]></statement>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="ReUserMakeNumber">
		<statement><![CDATA[update PhotoOrder set userMakeNumber=0 where seq=?]]></statement>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="StartMakeSWF">
		<statement>update PhotoOrder set swfStatus=1 where seq=?</statement>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="StartMakeCoverSWF">
		<statement>update PhotoOrder set cswfStatus=1 where seq=?</statement>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="StartValidateOrder">
		<statement>update PhotoOrder set status=2 where seq=?</statement>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="StartValidatePrint">
		<statement>update PhotoOrder set status=3 where seq=?</statement>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="ResendOrder">
		<statement>update PhotoOrder set status=2 where seq=?</statement>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="updateOrderPublish">
		<statement>update PhotoOrder set bookName=?,author=?,publishDate=?,barCode=? where seq=?</statement>
		<parameter type="String">bookName</parameter>
		<parameter type="String">author</parameter>
		<parameter type="String">publishDate</parameter>
		<parameter type="String">barCode</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="ReeditOrder">
		<statement>update PhotoOrder set status=1,MakeStatus=0 where seq=?</statement>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="QueryAllOrder">
		<statement><![CDATA[select a.seq,a.orderNo,a.GPID,a.memberSeq,a.userId,a.userName,a.email,a.address,a.tel,
		a.mobile,a.productSeq,a.productKind,a.skin,a.styleSeq,a.captionFont,a.captionPic,a.captionPic2,a.captionText,
		a.captionShow,a.captionEffect,a.captionColor,a.lcoverPic,a.hcoverPic,a.amount,a.bookNum,a.createDate,
		a.updateDate,a.status,a.makeStatus,a.pageNum,a.pageSize,a.coverPdfPath,a.pdfPath,a.pdfFailNum,
		a.insidePath,a.copyrightPath,a.titlePath,
		a.swfStatus,a.cswfStatus,a.productName,a.valuation,a.invoiceType,a.invoiceBuyer,
		a.invoiceNumber,a.invoiceTitle,a.invoiceAddress,a.total,a.userDate,a.freight,a.goldSeq,a.goldStatus,
		a.goldMethod,a.BankIDr,a.InAcctNo,a.usedPage,a.deleteStatus,a.demoStatus,a.shareStatus,a.onsalesType,
		a.onsalesNum,a.onsalesRate,a.onsalesSeq,a.company,a.orderPwd,a.urlEnable,a.payAmt,a.printer,a.care,a.sender,
		a.clientRemark,a.userMakeNumber,a.hits,a.shareCgy,a.shareDate,a.width,a.height,
			b.userId,b.name from PhotoOrder a,member b where
			a.memberSeq=b.seq and (a.status > -9 or a.status <= 20)]]></statement>
	</dao>
	<dao name="QueryAllOrderByGPID">
		<statement><![CDATA[
			select a.*,b.userId from PhotoOrder a,member b where
			a.memberSeq=b.seq and (a.status > -9 or a.status <= 20) and a.GPID=?
		]]></statement>
		<parameter type="String">GPID</parameter>
	</dao>
	<dao name="QueryValidateOrder">
		<statement>select a.*,b.userId from PhotoOrder a,member b where a.memberSeq=b.seq and a.status = -10</statement>
	</dao>
	<dao name="QueryAssignPrint">
		<statement>select * from PhotoOrder where status=3</statement>
	</dao>
	<dao name="QueryAssignSender">
		<statement>select * from PhotoOrder where status=4</statement>
	</dao>
	<dao name="QueryPrintDwn">
		<statement>select * from PhotoOrder where status=4 and printer = ?</statement>
		<parameter type="int">printer</parameter>
	</dao>
	<dao name="QueryAssignOver">
		<statement>select * from PhotoOrder where status=5</statement>
	</dao>
	<dao name="QueryOrder">
		<statement>select * from PhotoOrder where seq=? and memberSeq=?</statement>
		<parameter type="int">seq</parameter>
		<parameter type="int">memberSeq</parameter>
	</dao>
	<dao name="QueryOrderBySeq">
		<statement>select * from PhotoOrder where seq=?</statement>
		<parameter type="int">seq</parameter>
	</dao>
	<dao name="QueryOrder2">
		<statement>select a.*,b.userId from PhotoOrder a,member b where a.seq=? and a.memberSeq=? and a.memberSeq=b.seq</statement>
		<parameter type="int">seq</parameter>
		<parameter type="int">memberSeq</parameter>
	</dao>
	<dao name="QueryOrder3">
		<statement>select a.*,b.userId from PhotoOrder a,member b where a.seq=? and a.memberSeq=b.seq</statement>
		<parameter type="int">seq</parameter>
	</dao>
	<dao name="QueryOrderByStatus">
		<statement>select a.*,b.userId from PhotoOrder a,member b where a.status=? and a.memberSeq=b.seq</statement>
		<parameter type="int">status</parameter>
	</dao>
	<dao name="QueryOrderByStatus2">
		<statement>select * from PhotoOrder where status=? and seq > 0</statement>
		<parameter type="int">status</parameter>
	</dao>
	<dao name="QueryOrderByWS">
		<statement><![CDATA[select * from PhotoOrder a where seq < 0 ]]></statement>
	</dao>
	<dao name="QueryOrderByMakeStatus">
		<statement>select a.*,b.userId from PhotoOrder a,member b where a.makeStatus=? and a.memberSeq=b.seq</statement>
		<parameter type="int">makeStatus</parameter>
	</dao>
	<dao name="QueryOrderByShareStatus">
		<statement>select * from PhotoOrder where shareStatus=?</statement>
		<parameter type="int">shareStatus</parameter>
	</dao>
	<dao name="QueryOrderByStatusAndMakeStatus">
		<statement>select a.*,b.userId from PhotoOrder a,member b where a.status=? and a.makeStatus=? and a.memberSeq=b.seq</statement>
		<parameter type="int">status</parameter>
		<parameter type="int">makeStatus</parameter>
	</dao>
	<dao name="QueryValidatePrint">
		<statement>select a.*,b.userId from PhotoOrder a,member b where a.status=2 and a.makeStatus=3 and a.memberSeq=b.seq</statement>
	</dao>
	<dao name="QueryOrderByMemberSeq">
		<statement>
			select a.*,b.lpicture,c.GPID,c.userId from PhotoOrder a left join PhotoStyle b on a.styleSeq = b.seq inner join member c on a.memberSeq = c.seq where a.memberSeq=? and a.status > -20
		</statement>
		<parameter type="int">memberSeq</parameter>
	</dao>
	<dao name="QueryOrderByOrderNo">
		<statement>select * from PhotoOrder where orderNo=? and GPID=?</statement>
		<parameter type="String">orderNo</parameter>
		<parameter type="String">GPID</parameter>
	</dao>
	<dao name="QueryOrderByOrderNo2">
		<statement>select * from PhotoOrder where orderNo=?</statement>
		<parameter type="String">orderNo</parameter>
	</dao>
	<dao name="QueryOrderStatusByOrderNo2">
		<statement>select a.status from PhotoOrder a,seller b where a.GPID=b.GPID and a.orderNo=? and a.GPID=? and b.passCode=?</statement>
		<parameter type="String">orderNo</parameter>
		<parameter type="String">GPID</parameter>
		<parameter type="String">passCode</parameter>
	</dao>
	<dao name="OrderLoginByUrl">
		<statement>select a.*,b.register from PhotoOrder a, seller b where a.GPID=? and a.orderNo = ? and a.orderPwd=? and a.urlEnable=1 and a.GPID=b.GPID and b.status=1</statement>
		<parameter type="String">GPID</parameter>
		<parameter type="String">orderNo</parameter>
		<parameter type="String">orderPwd</parameter>
	</dao>
	<dao name="UpdateOrderUrlEnable">
		<statement>update PhotoOrder set urlEnable=0 where orderNo=? and GPID=?</statement>
		<parameter type="String">orderNo</parameter>
		<parameter type="String">GPID</parameter>
	</dao>
	<dao name="BackupOrderXML">
		<statement>insert into orderxml2(orderSeq,xml,createDate) values(?,?,?)</statement>
		<parameter type="long">orderSeq</parameter>
		<parameter type="String">xml</parameter>
		<parameter type="Timestamp">now()</parameter>
	</dao>
	<dao name="AddOrderXML">
		<statement>insert into orderxml(orderSeq,GPID,orderNo,xml1,xml2) values(?,?,?,?,?)</statement>
		<parameter type="long">orderSeq</parameter>
		<parameter type="String">GPID</parameter>
		<parameter type="String">orderNo</parameter>
		<parameter type="String">xml1</parameter>
		<parameter type="String">xml2</parameter>
	</dao>
	<dao name="UpdateOrderXML1">
		<statement>update orderxml set xml1=? where orderSeq=?</statement>
		<parameter type="String">xml1</parameter>
		<parameter type="long">orderSeq</parameter>
	</dao>
	<dao name="UpdateOrderXML2">
		<statement>update orderxml set xml2=? where orderSeq=?</statement>
		<parameter type="String">xml2</parameter>
		<parameter type="long">orderSeq</parameter>
	</dao>
	<dao name="QueryOrderXML">
		<statement>select * from orderxml where orderSeq=?</statement>
		<parameter type="long">orderSeq</parameter>
	</dao>
	<dao name="UpdateOrderAmount">
		<statement>update PhotoOrder set amount=? where seq=?</statement>
		<parameter type="int">amount</parameter>
		<parameter type="long">seq</parameter>
	</dao>
	<dao name="CountOnsales">
		<statement>select count(*) usedNum from PhotoOrder where onsalesSeq = ? and status > 1</statement>
		<parameter type="int">onsalesSeq</parameter>
	</dao>
</root>
